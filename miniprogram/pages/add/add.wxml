<!--add.wxml-->
<view class="container">
  <!-- 表单字段 -->
  <van-cell-group>
    <!-- 1. 事项主题 -->
    <van-field
      label="事项主题"
      required
      placeholder="请输入事项主题"
      value="{{ thing1 }}"
      maxlength="20"
      autofocus
      bind:input="onThing1Input"
    />

    <!-- 2. 事项时间选择器 -->
    <van-field
      label="事项时间"
      required
      right-icon="clock-o"
      value="{{ formattedTime }}"
      readonly
      clickable
      placeholder="请选择日期时间"
      bind:click-input="showDateTimePicker"
    />

    <!-- 3. 事项描述 -->
    <van-field
      label="事项描述"
      required
      type="textarea"
      autosize="{{ textareaAutosize }}"
      value="{{ thing4 }}"
      placeholder="请输入事项描述"
      maxlength="200"
      show-confirm-bar="{{ false }}"
      bind:input="onThing4Input"
    />
  </van-cell-group>

  <!-- 订阅消息开关 -->
  <van-cell-group>
    <van-cell
      title="开启消息提醒"
      label="开启后，提醒时间到达时会收到微信消息通知"
    >
      <van-switch
        checked="{{ enableSubscribe }}"
        active-color="#4a90e2"
        bind:change="onSubscribeChange"
      />
    </van-cell>
  </van-cell-group>

  <!-- 提交按钮 -->
  <view class="submit">
    <van-button type="primary" block bind:click="saveReminder">保存</van-button>
  </view>

  <!-- 日期时间选择器弹窗 -->
  <van-popup
    show="{{ showDateTimePicker }}"
    position="bottom"
    bind:close="hideDateTimePicker"
  >
    <view class="picker-container">
      <view class="picker-toolbar">
        <view class="picker-toolbar-btn" bind:tap="hideDateTimePicker">取消</view>
        <view class="picker-toolbar-title">选择日期时间</view>
        <view class="picker-toolbar-btn confirm-btn" bind:tap="onPickerConfirm">确定</view>
      </view>
      <view class="picker-view-wrapper">
        <!-- 悬浮标签栏 -->
        <view class="picker-labels">
          <view class="picker-label">年</view>
          <view class="picker-label">月</view>
          <view class="picker-label">日</view>
          <view class="picker-label">时</view>
          <view class="picker-label">分</view>
          <view class="picker-label">秒</view>
        </view>
        <!-- 选择器 -->
        <picker-view
          value="{{ pickerValue }}"
          bind:change="onPickerViewChange"
          class="picker-wrapper"
        >
          <picker-view-column>
            <view wx:for="{{ pickerRange[0] }}" wx:key="index" class="picker-item">{{ item }}</view>
          </picker-view-column>
          <picker-view-column>
            <view wx:for="{{ pickerRange[1] }}" wx:key="index" class="picker-item">{{ item }}</view>
          </picker-view-column>
          <picker-view-column>
            <view wx:for="{{ pickerRange[2] }}" wx:key="index" class="picker-item">{{ item }}</view>
          </picker-view-column>
          <picker-view-column>
            <view wx:for="{{ pickerRange[3] }}" wx:key="index" class="picker-item">{{ item }}</view>
          </picker-view-column>
          <picker-view-column>
            <view wx:for="{{ pickerRange[4] }}" wx:key="index" class="picker-item">{{ item }}</view>
          </picker-view-column>
          <picker-view-column>
            <view wx:for="{{ pickerRange[5] }}" wx:key="index" class="picker-item">{{ item }}</view>
          </picker-view-column>
        </picker-view>
      </view>
    </view>
  </van-popup>
</view>

